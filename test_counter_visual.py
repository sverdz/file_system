#!/usr/bin/env python3
"""–í—ñ–∑—É–∞–ª—å–Ω–∏–π —Ç–µ—Å—Ç –ª—ñ—á–∏–ª—å–Ω–∏–∫—ñ–≤ TUI –¥–ª—è –≤–µ–ª–∏–∫–∏—Ö –º–∞—Å–∏–≤—ñ–≤."""
import sys

def show_counter_logic():
    """–ü–æ–∫–∞–∑—É—î —è–∫ –ø—Ä–∞—Ü—é—é—Ç—å –ª—ñ—á–∏–ª—å–Ω–∏–∫–∏."""

    print("="*70)
    print("–¢–ï–°–¢ –õ–Ü–ß–ò–õ–¨–ù–ò–ö–Ü–í –î–õ–Ø –í–ï–õ–ò–ö–ò–• –ú–ê–°–ò–í–Ü–í –§–ê–ô–õ–Ü–í")
    print("="*70)
    print()

    # –°–∏–º—É–ª—è—Ü—ñ—è –æ–±—Ä–æ–±–∫–∏ 100000 —Ñ–∞–π–ª—ñ–≤
    total_files = 100000

    print(f"üìä –¢–ï–°–¢–û–í–ò–ô –°–¶–ï–ù–ê–†–Ü–ô: {total_files:,} —Ñ–∞–π–ª—ñ–≤")
    print()

    # –°–∏–º—É–ª—è—Ü—ñ—è –ª–æ–≥—ñ–≤
    file_log = []
    error_log = []
    files_processed = 0
    success_count = 0
    error_count = 0

    print("üîÑ –°–ò–ú–£–õ–Ø–¶–Ü–Ø –û–ë–†–û–ë–ö–ò:")
    print("-" * 70)

    # –û–±—Ä–æ–±–ª—è—î–º–æ —Ñ–∞–π–ª–∏
    for i in range(total_files):
        # –î–æ–¥–∞—î–º–æ –∑–∞–ø–∏—Å –≤ –ª–æ–≥
        file_log.append(f"file_{i:06d}.pdf")

        # –û–±–º–µ–∂—É—î–º–æ —Ä–æ–∑–º—ñ—Ä –ª–æ–≥—É (—è–∫ –≤ –∫–æ–¥—ñ)
        file_log = file_log[-500:]  # ‚úÖ –í–ò–ü–†–ê–í–õ–ï–ù–û: –±—É–ª–æ -50

        # –û–Ω–æ–≤–ª—é—î–º–æ –ª—ñ—á–∏–ª—å–Ω–∏–∫–∏
        files_processed += 1

        if i % 100 == 99:  # 1% –ø–æ–º–∏–ª–æ–∫
            error_log.append(f"error_{i}")
            error_log = error_log[-100:]  # ‚úÖ –í–ò–ü–†–ê–í–õ–ï–ù–û: –±—É–ª–æ -20
            error_count += 1
        else:
            success_count += 1

        # –ü–æ–∫–∞–∑—É—î–º–æ –ø—Ä–æ–≥—Ä–µ—Å –Ω–∞ –∫–ª—é—á–æ–≤–∏—Ö —Ç–æ—á–∫–∞—Ö
        if i in [99, 499, 999, 4999, 9999, 49999, 99999]:
            percent = (i + 1) / total_files * 100
            print(f"  {i+1:6,} —Ñ–∞–π–ª—ñ–≤ | "
                  f"Success: {success_count:6,} | "
                  f"Errors: {error_count:4,} | "
                  f"Log size: {len(file_log):3} | "
                  f"Err log: {len(error_log):3} | "
                  f"{percent:5.2f}%")

    print("-" * 70)
    print()

    # –§—ñ–Ω–∞–ª—å–Ω–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
    print("‚úÖ –§–Ü–ù–ê–õ–¨–ù–ê –°–¢–ê–¢–ò–°–¢–ò–ö–ê:")
    print("=" * 70)
    print(f"  –í—Å—å–æ–≥–æ —Ñ–∞–π–ª—ñ–≤:           {total_files:10,}")
    print(f"  –§–∞–π–ª—ñ–≤ –æ–±—Ä–æ–±–ª–µ–Ω–æ:        {files_processed:10,}")
    print(f"  –£—Å–ø—ñ—à–Ω–æ:                 {success_count:10,} ({success_count/total_files*100:.2f}%)")
    print(f"  –ü–æ–º–∏–ª–æ–∫:                 {error_count:10,} ({error_count/total_files*100:.2f}%)")
    print()
    print(f"  üìã –†–æ–∑–º—ñ—Ä file_log:       {len(file_log):10,} (–ª—ñ–º—ñ—Ç: 500)")
    print(f"  ‚ùå –†–æ–∑–º—ñ—Ä error_log:      {len(error_log):10,} (–ª—ñ–º—ñ—Ç: 100)")
    print("=" * 70)
    print()

    # –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∫–æ—Ä–µ–∫—Ç–Ω–æ—Å—Ç—ñ
    print("üîç –ü–ï–†–ï–í–Ü–†–ö–ê –õ–Ü–ú–Ü–¢–Ü–í:")
    print("-" * 70)

    if len(file_log) <= 500:
        print(f"  ‚úÖ file_log –≤ –º–µ–∂–∞—Ö –ª—ñ–º—ñ—Ç—É: {len(file_log)}/500")
    else:
        print(f"  ‚ùå file_log –ü–ï–†–ï–í–ò–©–£–Ñ –ª—ñ–º—ñ—Ç: {len(file_log)}/500")

    if len(error_log) <= 100:
        print(f"  ‚úÖ error_log –≤ –º–µ–∂–∞—Ö –ª—ñ–º—ñ—Ç—É: {len(error_log)}/100")
    else:
        print(f"  ‚ùå error_log –ü–ï–†–ï–í–ò–©–£–Ñ –ª—ñ–º—ñ—Ç: {len(error_log)}/100")

    print("-" * 70)
    print()

    # –ü–æ—è—Å–Ω–µ–Ω–Ω—è –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è
    print("üì∫ –Ø–ö –í–Ü–î–û–ë–†–ê–ñ–ê–Ñ–¢–¨–°–Ø –í TUI:")
    print("=" * 70)
    print()
    print("  –ù–∞–≤—ñ—Ç—å —è–∫—â–æ –æ–±—Ä–æ–±–ª–µ–Ω–æ 100,000 —Ñ–∞–π–ª—ñ–≤:")
    print()
    print("  üñ•Ô∏è  –î–ï–¢–ê–õ–¨–ù–ò–ô –†–ï–ñ–ò–ú:")
    print("      ‚îî‚îÄ –ü–æ–∫–∞–∑—É—î—Ç—å—Å—è –ª–∏—à–µ 1-3 –æ—Å—Ç–∞–Ω–Ω—ñ –∑–∞–ø–∏—Å–∏")
    print("      ‚îî‚îÄ –ê–¥–∞–ø—Ç—É—î—Ç—å—Å—è –¥–æ –≤–∏—Å–æ—Ç–∏ —Ç–µ—Ä–º—ñ–Ω–∞–ª—É")
    print()
    print("  üñ•Ô∏è  –ö–û–ú–ü–ê–ö–¢–ù–ò–ô –†–ï–ñ–ò–ú:")
    print("      ‚îî‚îÄ –ü–æ–∫–∞–∑—É—î—Ç—å—Å—è –ª–∏—à–µ 6-10 –æ—Å—Ç–∞–Ω–Ω—ñ—Ö –∑–∞–ø–∏—Å—ñ–≤")
    print("      ‚îî‚îÄ –ê–¥–∞–ø—Ç—É—î—Ç—å—Å—è –¥–æ –≤–∏—Å–æ—Ç–∏ —Ç–µ—Ä–º—ñ–Ω–∞–ª—É")
    print()
    print("  üìä –õ–Ü–ß–ò–õ–¨–ù–ò–ö:")
    print(f"      ‚îî‚îÄ –ü–æ–∫–∞–∑—É—î: {files_processed:,}/{total_files:,}")
    print(f"      ‚îî‚îÄ Success: {success_count:,}")
    print(f"      ‚îî‚îÄ Errors: {error_count:,}")
    print()
    print("  üíæ –ü–ê–ú'–Ø–¢–¨:")
    print(f"      ‚îî‚îÄ file_log –∑–±–µ—Ä—ñ–≥–∞—î –æ—Å—Ç–∞–Ω–Ω—ñ {len(file_log)} –∑–∞–ø–∏—Å—ñ–≤")
    print(f"      ‚îî‚îÄ error_log –∑–±–µ—Ä—ñ–≥–∞—î –æ—Å—Ç–∞–Ω–Ω—ñ {len(error_log)} –∑–∞–ø–∏—Å—ñ–≤")
    print()
    print("=" * 70)
    print()

    # –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü—ñ—è –æ—Å—Ç–∞–Ω–Ω—ñ—Ö –∑–∞–ø–∏—Å—ñ–≤
    print("üìù –ü–†–ò–ö–õ–ê–î –û–°–¢–ê–ù–ù–Ü–• –ó–ê–ü–ò–°–Ü–í –£ –õ–û–ì–£:")
    print("-" * 70)
    print("  –û—Å—Ç–∞–Ω–Ω—ñ 5 —Ñ–∞–π–ª—ñ–≤ —É file_log:")
    for i, entry in enumerate(file_log[-5:], 1):
        print(f"    {i}. {entry}")
    print()
    print("  –û—Å—Ç–∞–Ω–Ω—ñ 3 –ø–æ–º–∏–ª–∫–∏ —É error_log:")
    for i, entry in enumerate(error_log[-3:], 1):
        print(f"    {i}. {entry}")
    print("-" * 70)
    print()

    # –í–∏—Å–Ω–æ–≤–æ–∫
    print("üéØ –í–ò–°–ù–û–í–û–ö:")
    print("=" * 70)
    print("  ‚úÖ –õ—ñ—á–∏–ª—å–Ω–∏–∫ files_processed –≤—ñ–¥–æ–±—Ä–∞–∂–∞—î –í–°–Ü —Ñ–∞–π–ª–∏")
    print("  ‚úÖ –ú–µ—Ç—Ä–∏–∫–∏ (success/error) –∫–æ—Ä–µ–∫—Ç–Ω—ñ –¥–ª—è –≤—Å—ñ—Ö —Ñ–∞–π–ª—ñ–≤")
    print("  ‚úÖ –õ–æ–≥–∏ –æ–±–º–µ–∂–µ–Ω—ñ –¥–ª—è –µ–∫–æ–Ω–æ–º—ñ—ó –ø–∞–º'—è—Ç—ñ")
    print("  ‚úÖ –í—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–Ω—è –∞–¥–∞–ø—Ç–∏–≤–Ω–µ (–Ω–µ –ø–µ—Ä–µ–≤–∞–Ω—Ç–∞–∂—É—î –µ–∫—Ä–∞–Ω)")
    print()
    print("  üöÄ –ü—Ä–æ–≥—Ä–∞–º–∞ –º–æ–∂–µ –æ–±—Ä–æ–±–∏—Ç–∏ –ë–£–î–¨-–Ø–ö–£ –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Ñ–∞–π–ª—ñ–≤!")
    print("=" * 70)


if __name__ == "__main__":
    show_counter_logic()
